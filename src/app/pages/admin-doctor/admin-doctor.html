<div class="flex flex-row-reverse h-screen">

  <!-- Doctor List & Status Filters -->
  <div class="w-1/5 bg-white border-l border-gray-200 flex flex-col text-right">

    <!-- ุญุงูุฉ ุงูุทุจูุจ -->
     
    <div class="p-4 border-b border-gray-300 bg-gray-100">
    <h2 class="font-bold text-gray-700 mb-2 text-right text-lg"> ุงูุญุงูุฉ</h2>

    <div class="flex flex-wrap gap-2 justify-end text-sm">
      <button
        class="px-4 py-1 rounded-md border border-gray-300 bg-white text-gray-700 hover:bg-blue-50 transition duration-150"
        [class.bg-blue-500]="selectedStatus === 0"
        [class.text-white]="selectedStatus === 0"
        (click)="filterDoctors(0)">
         ูุนูู
      </button>

      <button
        class="px-4 py-1 rounded-md border border-gray-300 bg-white text-gray-700 hover:bg-blue-50 transition duration-150"
        [class.bg-blue-500]="selectedStatus === 1"
        [class.text-white]="selectedStatus === 1"
        (click)="filterDoctors(1)">
         ููุจูู
      </button>

      <button
        class="px-4 py-1 rounded-md border border-gray-300 bg-white text-gray-700 hover:bg-blue-50 transition duration-150"
        [class.bg-blue-500]="selectedStatus === 2"
        [class.text-white]="selectedStatus === 2"
        (click)="filterDoctors(2)">
        ูุฑููุถ
      </button>

      <button
        class="px-4 py-1 rounded-md border border-gray-300 bg-white text-gray-700 hover:bg-blue-50 transition duration-150"
        [class.bg-blue-500]="selectedStatus === 3"
        [class.text-white]="selectedStatus === 3"
        (click)="filterDoctors(3)">
         ูุคูุช
      </button>

      <button
        class="px-4 py-1 rounded-md border border-gray-300 bg-white text-gray-700 hover:bg-blue-50 transition duration-150"
        [class.bg-blue-500]="selectedStatus === 4"
        [class.text-white]="selectedStatus === 4"
        (click)="filterDoctors(4)">
         ุบูุฑ ููุนู
      </button>
    </div>
  </div>


    <!-- Doctor Cards -->
    <div class="flex-1 overflow-y-auto p-4 space-y-2">
      <div
        *ngFor="let doctor of filteredDoctors"
        class="p-3 bg-gray-100 rounded shadow cursor-pointer hover:bg-gray-200"
        (click)="selectDoctor(doctor)"
        [class.bg-blue-100]="doctor.doctorId === selectedDoctor?.doctorId"
      >
        <p class="font-bold text-gray-800">{{ doctor.fullName }}</p>
        <p class="text-sm text-gray-600">{{ doctor.specialization }}</p>
      </div>
    </div>
  </div>

  <!-- Doctor Details View -->
  <div class="w-4/5 p-6 bg-gray-50 overflow-y-auto text-right">

    <div *ngIf="selectedDoctor" class="space-y-6">

      <!-- Header -->
      <div class="flex items-center gap-4 flex-row-reverse">
        <img [src]="selectedDoctor.profilePictureUrl" class="w-24 h-24 rounded-full object-cover border" />
        <div>
          <h2 class="text-2xl font-bold text-gray-800">{{ selectedDoctor.fullName }}</h2>
          <p class="text-sm text-gray-500">{{ selectedDoctor.specialization }}</p>
          <p class="text-sm text-gray-500">{{ selectedDoctor.service }}</p>
        </div>
      </div>

      <!-- ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ -->
      <div class="bg-white p-4 rounded shadow">
        <h3 class="text-lg font-bold border-b pb-2 text-gray-700">๐ค ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ</h3>
        <p><strong>ุงูุงุณู:</strong> {{ selectedDoctor.fullName }}</p>
        <p><strong>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:</strong> {{ selectedDoctor.email }}</p>
        <p><strong>ุฑูู ุงููุงุชู:</strong> {{ selectedDoctor.phoneNumber }}</p>
        <p><strong>ุงูุฌูุณ:</strong> {{ selectedDoctor.gender }}</p>
        <p>
          <strong>ุงูุญุงูุฉ:</strong>
          <span class="text-gray-700">
            {{ getStatusLabel(selectedDoctor.status) }}
          </span>
        </p>
      </div>

      <!-- ุงููููุฉ ูุงูุฎุฏูุฉ -->
      <div class="bg-white p-4 rounded shadow">
        <h3 class="text-lg font-bold border-b pb-2 text-gray-700">๐ฅ ุงููููุฉ ูุงูุฎุฏูุฉ</h3>
        <p><strong>ุงูุชุฎุตุต:</strong> {{ selectedDoctor.specialization || 'ุบูุฑ ูุญุฏุฏ' }}</p>
        <p><strong>ุงูุฎุฏูุฉ:</strong> {{ selectedDoctor.service }}</p>
        <p><strong>ุณููุงุช ุงูุฎุจุฑุฉ:</strong> {{ selectedDoctor.expYears }} ุณูุฉ</p>
        <p><strong>ูุฏุฉ ุงูุงูุชุธุงุฑ:</strong> {{ selectedDoctor.waitingTime }} ุฏูููุฉ</p>
        <p><strong>ุงูุฑุณูู:</strong> {{ selectedDoctor.fees | currency:'EGP' }}</p>
        <p><strong>ุงูุชูููู:</strong> {{ selectedDoctor.ratingValue }} / 5</p>
      </div>

      <!-- ุงูุนูุงููู -->
      <div class="bg-white p-4 rounded shadow">
        <h3 class="text-lg font-bold border-b pb-2 text-gray-700">๐ ุงููููุน ูุงูุนูุงููู</h3>
        <p><strong>ุงููููุน:</strong> {{ selectedDoctor.location }}</p>
        <p><strong>ุงูุนููุงู ุงูุชูุตููู:</strong> {{ selectedDoctor.detailedAddress || 'ุบูุฑ ูุชููุฑ' }}</p>
        <p><strong>ุงููุฏููุฉ:</strong> {{ selectedDoctor.cityName }}</p>
        <p><strong>ุงููุญุงูุธุฉ:</strong> {{ selectedDoctor.governmentName }}</p>
        <div>
          <strong>ุนูุงููู ุฅุถุงููุฉ:</strong>
          <ul class="list-disc pr-4 text-sm text-gray-600">
            <li *ngFor="let address of selectedDoctor.addresses">{{ address }}</li>
          </ul>
        </div>
      </div>

      <!-- ุงููุณุชูุฏุงุช -->
     <div class="bg-white shadow rounded-lg p-4 space-y-2">
      <h3 class="text-lg font-bold text-gray-700 border-b pb-1">๐ ุงููุณุชูุฏุงุช</h3>
      <p><strong>ุฑุฎุตุฉ ูุฒุงููุฉ ุงููููุฉ:</strong>
        <a *ngIf="selectedDoctor.medicalLicenseUrl" [href]="selectedDoctor.medicalLicenseUrl" target="_blank" class="text-blue-600 underline">ุนุฑุถ</a>
        <span *ngIf="!selectedDoctor.medicalLicenseUrl" class="text-gray-400">ุบูุฑ ูุชููุฑ</span>
      </p>
      <p><strong>ุงูุฑูู ุงููููู:</strong>
        <a *ngIf="selectedDoctor.nationalIdUrl" [href]="selectedDoctor.nationalIdUrl" target="_blank" class="text-blue-600 underline">ุนุฑุถ</a>
        <span *ngIf="!selectedDoctor.nationalIdUrl" class="text-gray-400">ุบูุฑ ูุชููุฑ</span>
      </p>
      <p><strong>ุดูุงุฏุฉ ุงูุชุฎุฑุฌ:</strong>
        <a *ngIf="selectedDoctor.graduationCertificateUrl" [href]="selectedDoctor.graduationCertificateUrl" target="_blank" class="text-blue-600 underline">ุนุฑุถ</a>
        <span *ngIf="!selectedDoctor.graduationCertificateUrl" class="text-gray-400">ุบูุฑ ูุชููุฑ</span>
      </p>
      <p><strong>ุดูุงุฏุฉ ุงูุฎุจุฑุฉ:</strong>
        <a *ngIf="selectedDoctor.experienceCertificateUrl" [href]="selectedDoctor.experienceCertificateUrl" target="_blank" class="text-blue-600 underline">ุนุฑุถ</a>
        <span *ngIf="!selectedDoctor.experienceCertificateUrl" class="text-gray-400">ุบูุฑ ูุชููุฑ</span>
      </p>
    </div>


      <!-- ุงูุฑุตูุฏ -->
          <div class="flex justify-end gap-4 pt-4" *ngIf="selectedDoctor">
      <!-- โ ูุจูู -->
      <button
        *ngIf="[0, 2, 3, 4].includes(selectedDoctor.status)"
        class="bg-green-500 hover:bg-green-600 text-white px-5 py-2 rounded-md"
        (click)="approveDoctor(selectedDoctor.doctorId)">
        โ ูุจูู
      </button>

      <!-- โธ๏ธ ุชุนููู -->
      <button
        *ngIf="[1, 2].includes(selectedDoctor.status)"
        class="bg-yellow-500 hover:bg-yellow-600 text-white px-5 py-2 rounded-md"
        (click)="rejectDoctor(selectedDoctor.doctorId)">
        โธ๏ธ ุชุนููู
      </button>

      <!-- โ ุฑูุถ -->
      <button
        *ngIf="[0, 1, 3, 4].includes(selectedDoctor.status)"
        class="bg-red-500 hover:bg-red-600 text-white px-5 py-2 rounded-md"
        (click)="rejectDoctor(selectedDoctor.doctorId)">
        โ ุฑูุถ
      </button>
    </div>

    <div *ngIf="!selectedDoctor" class="text-gray-400 italic text-right mt-8">
      ุงุฎุชุฑ ุทุจูุจูุง ูุนุฑุถ ุงูุชูุงุตูู.
    </div>
  </div>
</div>
