<div class="flex flex-col md:flex-row min-h-screen">
  <div *ngIf="statusCode !== null" class=" ">
    <ng-container *ngIf="statusCode === 0; else normalStatus">
      <!-- modal  -->
      <div
        *ngIf="isOpen"
        class="fixed inset-0 flex items-center justify-center bg-black/20 backdrop-blur-md bg-opacity-50 z-50"
      >
        <div
          *ngIf="isOpen"
          class="mb-4 w-3/4 mx-auto rounded-lg border border-[#831f42] bg-[#2c0a16] p-4 text-sm font-bold text-[#cb85a8] flex flex-col items-center gap-4"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-20 text-[#cb85a8]"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"
            />
          </svg>
          <div class="rounded-xl shadow-lg p-6 w-full text-right">
            <h2 class="text-3xl font-bold text-white mb-4">
              مرحبًا {{ fullName }}!
            </h2>

            <p class="text-gray-300 mb-6 text-xl">
              حسابك غير نشط وغير مكتمل يرجي استكمال بياناتك الشخصية ورفع الملفات
              والمستندات المطلوبة وبيانات العيادة
              <br />
              سيتم اظهار هذة الرساله لك بشكل اجباري الي حين استكمال بياناتك
              <br />
              خالص تحياتنا فريق خدمة عملاء رعاية . كوم
            </p>

            <div class="flex justify-end gap-3">
              <button
                (click)="closeModal()"
                class="bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-white px-4 py-2 rounded hover:bg-gray-400 dark:hover:bg-gray-600"
              >
                تجاهل
              </button>

              <a
                href="/dashboard/doctor/onboarding"
                class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"
              >
                متابعة إلى Onboarding
              </a>
            </div>
          </div>
        </div>

        <!-- Modal Content -->
      </div>
    </ng-container>

    <ng-template #normalStatus>
      <!-- Doctor Status: <strong>{{ statusText }}</strong> -->
    </ng-template>
  </div>

  <main class="flex-grow p-2 sm:p-1">
    <div class="container mx-auto p-2 sm:p-4" dir="rtl">
      <!-- doctor details -->
      <div
        class="bg-gradient-to-br from-[#0f2c1b] to-[#186429] dark:from-[#08210e]/80 dark:to-[#104b2d]/80 border border-[#2b945a] rounded-2xl p-4 shadow-2xl text-white"
      >
        <div class="flex flex-col gap-2 mb-0">
          <div>
            <h3 class="text-2xl font-bold mb-0 text-green-400">
              مرحباً بعودتك دكتور / {{ fullName }}
            </h3>
            <p class="mt-4 text-lg font-medium text-white/90 pb-3">
              سعدنا لرؤيتك مرة تانية
            </p>
          </div>
        </div>

        <div
          class="flex flex-col md:flex-row items-center gap-6 px-6 rounded-xl text-white"
        >
          <!-- صورة البروفايل -->
          <div class="flex-shrink-0 text-center">
            <img
              [src]="profilePictureUrl || 'https://ui-avatars.com/api/?name=' + user.userName"
              alt="User photo"
              class="w-20 h-20 rounded-full shadow-lg border-4 border-white/50 object-cover"
            />
            <h2 class="text-sm font-semibold mt-2">{{ user.email }}</h2>
            <p class="text-xs text-green-200">{{ user.roles.join(', ') }}</p>
          </div>

          <!-- البيانات -->
          <div class="flex flex-wrap gap-4 flex-1">
            <!-- الخدمة -->
            <div
              class="flex items-center gap-2 bg-white/10 px-4 py-2 rounded-lg shadow-sm"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5 text-green-200"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"
                />
              </svg>
              <div>
                <span class="block text-xs text-white/70">الخدمة</span>
                <span class="font-semibold">{{ service }}</span>
              </div>
            </div>

            <!-- التخصص -->
            <div
              class="flex items-center gap-2 bg-white/10 px-4 py-2 rounded-lg shadow-sm"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5 text-green-200"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"
                />
              </svg>
              <div>
                <span class="block text-xs text-white/70">التخصص</span>
                <span class="font-semibold">{{ specialization }}</span>
              </div>
            </div>

            <!-- الحالة -->
            <div
              class="flex items-center gap-2 bg-white/10 px-4 py-2 rounded-lg shadow-sm"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5 text-green-200"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"
                />
              </svg>
              <div>
                <span class="block text-xs text-white/70">حالة الحساب</span>
                <span
                  class="px-2 py-0.5 rounded-full text-sm font-medium"
                  [ngClass]="{
                'bg-green-500 text-white': statusCode === 1,
                'bg-yellow-400 text-black': statusCode === 0,
                'bg-red-500 text-white': statusCode === 2,
                'bg-orange-500 text-white': statusCode === 3,
                'bg-gray-500 text-white': statusCode === 4
              }"
                >
                  {{ getStatusText(statusCode) }}
                </span>
              </div>
            </div>
          </div>
        </div>

        <div class="mt-2 border-t border-green-700 pt-4">
          <p class="text-gray-300 leading-relaxed text-sm">
            <span class="font-medium text-green-300">آخر تسجيل دخول:</span>
            الساعة 3:44 مساءً بالتوقيت العالمي (UTC)
          </p>
        </div>
      </div>

      <!-- appointment summary -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 p-6">
        <div
          class="rounded-2xl p-6 transform transition duration-300 hover:scale-105 text-white bg-gradient-to-br from-purple-500 to-purple-700 shadow-lg dark:from-purple-600 dark:to-purple-800"
        >
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-bold">الرصيد</h3>

            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-8 h-8 text-white"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"
              />
            </svg>
          </div>
          <p class="text-3xl font-semibold text-right">
            {{ balance | currency: 'EGP' : 'symbol' : '1.2-2' }}
          </p>
        </div>

        <div
          class="rounded-2xl p-6 transform transition duration-300 hover:scale-105 text-white bg-gradient-to-br from-cyan-500 to-cyan-700 shadow-lg dark:from-cyan-600 dark:to-cyan-800"
        >
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-bold">عدد المشاهدات</h3>
            <svg
              class="w-8 h-8 text-white"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
              />
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
              />
            </svg>
          </div>
          <p class="text-3xl font-semibold text-right">{{views}}</p>
        </div>

        <div
          class="rounded-2xl p-6 transform transition duration-300 hover:scale-105 text-white bg-gradient-to-br from-green-500 to-green-700 shadow-lg dark:from-green-600 dark:to-green-800"
        >
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-bold">الحجوزات المؤكدة</h3>
            <svg
              class="w-8 h-8 text-white"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M5 13l4 4L19 7"
              />
            </svg>
          </div>
          <p class="text-3xl font-semibold text-right">{{confirmedCount }}</p>
        </div>

        <div
          class="rounded-2xl p-6 transform transition duration-300 hover:scale-105 text-white bg-gradient-to-br from-blue-500 to-blue-700 shadow-lg dark:from-blue-600 dark:to-blue-800"
        >
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-bold">الحجوزات المنتهية</h3>
            <svg
              class="w-8 h-8 text-white"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3 10h4l3 8 4-16 3 8h4"
              />
            </svg>
          </div>
          <p class="text-3xl font-semibold text-right">{{finishedCount }}</p>
        </div>

        <div
          class="rounded-2xl p-6 transform transition duration-300 hover:scale-105 text-white bg-gradient-to-br from-red-500 to-red-700 shadow-lg dark:from-red-600 dark:to-red-800"
        >
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-bold">حجوزات ملغيه</h3>
            <svg
              class="w-8 h-8 text-white"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </div>
          <p class="text-3xl font-semibold text-right">{{cancelledCount }}</p>
        </div>

        <div
          class="rounded-2xl transform transition duration-300 hover:scale-105 p-6 text-white bg-gradient-to-br from-yellow-400 to-yellow-600 shadow-lg dark:from-yellow-500 dark:to-yellow-700"
        >
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-bold">حجوزات عدم حضور</h3>
            <svg
              class="w-8 h-8 text-white"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"
              />
            </svg>
          </div>
          <p class="text-3xl font-semibold text-right">
            {{nonAttendanceCount }}
          </p>
        </div>
        <div
          class="rounded-2xl p-6 text-white bg-gradient-to-br from-indigo-500 to-indigo-700 shadow-lg dark:from-indigo-600 dark:to-indigo-800 transform transition duration-300 hover:scale-105"
        >
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-bold">عدد التقييمات</h3>

            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-8 h-8 text-white"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"
              />
            </svg>
          </div>

          <p class="text-3xl font-semibold text-right">{{ ratingCount }}</p>
        </div>
        <div
          class="rounded-2xl p-6 text-white bg-gradient-to-br from-pink-500 to-pink-700 shadow-lg dark:from-pink-600 dark:to-pink-800 transform transition duration-300 hover:scale-105"
        >
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-bold">متوسط التقييمات</h3>
            <svg
              class="w-8 h-8 text-white"
              fill="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"
              />
            </svg>
          </div>
          <p class="text-3xl font-semibold text-right">
            {{ averageRating | number:'1.1-2' }}/ 5
          </p>
        </div>
      </div>

      <!-- charts -->
      <div
        class="bg-white/95 dark:bg-black/25 rounded-lg shadow-lg p-3 sm:p-4 md:p-6 mb-4 sm:mb-6 md:mb-8 backdrop-blur-md"
      >
        <h2
          class="text-lg sm:text-xl md:text-2xl font-semibold mb-3 sm:mb-4 text-green-600"
        >
          الإحصائيات
        </h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
          <div class="p-3 sm:p-4">
            <h3 class="text-base sm:text-lg font-medium mb-2 text-green-600">
              تقسيمة المرضي بناء علي الجنس
            </h3>
            <canvas id="specialtyChart" class="w-full h-48 sm:h-64"></canvas>
          </div>
          <div class="p-3 sm:p-4">
            <h3 class="text-base sm:text-lg font-medium mb-2 text-green-600">
              حالة الحجوزات
            </h3>
            <canvas id="statusChart" class="w-full h-48 sm:h-64"></canvas>
          </div>
        </div>
      </div>
      <!-- appointment -->
      <div
        class="bg-white/90 dark:bg-zinc-900/60 backdrop-blur-md rounded-2xl p-6 shadow-xl space-y-6"
      >
        <h2
          class="text-2xl font-bold text-green-600 dark:text-green-400 flex items-center gap-2"
        >
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M7 11h10v2H7z" />
            <path
              d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 20V9h14v11H5z"
            />
          </svg>
          حجوزات المرضي
        </h2>

        <div
          class="overflow-x-auto rounded-xl border border-green-200 dark:border-green-700 shadow-sm"
        >
          <table
            class="w-full divide-y divide-green-200 dark:divide-green-700 text-sm text-center"
          >
            <thead
              class="bg-green-600 text-white dark:bg-green-700 dark:text-green-100"
            >
              <tr>
                <th class="px-4 py-3 font-semibold">رقم الحجز</th>
                <th class="px-4 py-3 font-semibold">موعد الحجز</th>
                <th class="px-4 py-3 font-semibold">وقت الحجز</th>
                <th class="px-4 py-3 font-semibold">اسم المريض</th>
                <th class="px-4 py-3 font-semibold">حالة الحجز</th>
                <th class="px-4 py-3 font-semibold">تاريخ الانشاء</th>
              </tr>
            </thead>
            <tbody
              class="bg-white dark:bg-zinc-800 divide-y divide-green-100 dark:divide-zinc-700"
            >
              <tr
                *ngFor="let appt of appointments"
                class="hover:bg-green-50 dark:hover:bg-green-700 transition-colors"
              >
                <td class="px-4 py-2">{{ appt.appointmentId }}</td>
                <td class="px-4 py-2">{{ appt.date | date: 'dd/MM/yyyy' }}</td>
                <td class="px-4 py-2">
                  {{ appt.startTime | date: 'hh:mm a' }} - {{ appt.endTime |
                  date: 'hh:mm a' }}
                </td>
                <td class="px-4 py-2">{{ appt.patientName }}</td>
                <td class="py-3 px-6">
                  <span
                    [ngClass]="{
      'bg-green-100 text-green-700 dark:bg-green-800 dark:text-green-200': appt.status === 'Confirmed',
      'bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200': appt.status === 'Finished',
      'bg-orange-100 text-orange-700 dark:bg-orange-800 dark:text-orange-200': appt.status === 'NonAttendence',
      'bg-pink-100 text-pink-700 dark:bg-pink-800 dark:text-pink-200': appt.status === 'Cancelled'
    }"
                    class="inline-flex items-center gap-1 py-1 px-3 rounded-full text-xs font-medium"
                  >
                    <svg
                      *ngIf="appt.status === 'Confirmed'"
                      class="w-4 h-4 fill-green-600 dark:fill-green-200"
                      viewBox="0 0 20 20"
                    >
                      <path
                        d="M10 18a8 8 0 100-16 8 8 0 000 16zm-1-5l5-5-1.4-1.4L9 10.2 7.4 8.6 6 10l3 3z"
                      />
                    </svg>

                    <svg
                      *ngIf="appt.status === 'Finished'"
                      class="w-4 h-4 fill-gray-600 dark:fill-gray-300"
                      viewBox="0 0 20 20"
                    >
                      <path
                        d="M10 18a8 8 0 100-16 8 8 0 000 16zm-.75-12h1.5v5h-1.5V6zm0 6h1.5v1.5h-1.5V12z"
                      />
                    </svg>

                    <svg
                      *ngIf="appt.status === 'NonAttendence'"
                      class="w-4 h-4 fill-orange-600 dark:fill-orange-300"
                      viewBox="0 0 20 20"
                    >
                      <path
                        d="M10 18a8 8 0 100-16 8 8 0 000 16zm3-11.4L11.4 7 10 8.4 8.6 7 7 8.6 8.4 10 7 11.4 8.6 13 10 11.6 11.4 13 13 11.4 11.6 10 13 8.6z"
                      />
                    </svg>

                    <svg
                      *ngIf="appt.status === 'Cancelled'"
                      class="w-4 h-4 fill-pink-600 dark:fill-pink-300"
                      viewBox="0 0 20 20"
                    >
                      <path
                        d="M10 18a8 8 0 100-16 8 8 0 000 16zm3-11.4L11.4 7 10 8.4 8.6 7 7 8.6 8.4 10 7 11.4 8.6 13 10 11.6 11.4 13 13 11.4 11.6 10 13 8.6z"
                      />
                    </svg>

                    <ng-container [ngSwitch]="appt.status">
                      <span *ngSwitchCase="'Confirmed'">مؤكد</span>
                      <span *ngSwitchCase="'Finished'">منتهي</span>
                      <span *ngSwitchCase="'NonAttendence'">عدم حضور</span>
                      <span *ngSwitchCase="'Cancelled'">ملغي</span>
                      <span *ngSwitchDefault> - </span>
                    </ng-container>
                  </span>
                </td>

                <td class="px-4 py-2">{{ appt.date}}</td>
              </tr>
              <tr *ngIf="appointments.length === 0">
                <td colspan="5" class="py-4 text-zinc-500 dark:text-zinc-400">
                  لا توجد حجوزات حالياً.
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="text-end">
          <a
            href="#"
            class="text-green-600 dark:text-green-400 text-sm hover:underline inline-flex items-center gap-1"
          >
            عرض كل الحجوزات
          </a>
        </div>
      </div>
      <br />
      <br />

      <!-- payment -->
      <div
        class="bg-white/90 dark:bg-zinc-900/60 backdrop-blur-md rounded-2xl p-6 shadow-xl space-y-6"
      >
        <h2
          class="text-2xl font-bold text-green-600 dark:text-green-400 flex items-center gap-2"
        >
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M7 11h10v2H7z" />
            <path
              d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 20V9h14v11H5z"
            />
          </svg>
          عمليات الدفع الالكتروني
        </h2>

        <div
          class="overflow-x-auto rounded-xl border border-green-200 dark:border-green-700 shadow-sm"
        >
          <table
            class="w-full divide-y divide-green-200 dark:divide-green-700 text-sm text-center"
          >
            <thead
              class="bg-green-600 text-white dark:bg-green-700 dark:text-green-100"
            >
              <tr>
                <th class="px-4 py-3 font-semibold">رقم الدفع</th>
                <th class="px-4 py-3 font-semibold">رقم مرجع عملية الدفع</th>

                <th class="px-4 py-3 font-semibold">التاريخ</th>
                <th class="px-4 py-3 font-semibold">اسم المريض</th>
                <th class="px-4 py-3 font-semibold">حالة الدفع</th>
              </tr>
            </thead>
            <tbody
              class="bg-white dark:bg-zinc-800 divide-y divide-green-100 dark:divide-zinc-700"
            >
              <tr
                *ngFor="let appt of appointments"
                class="hover:bg-green-50 dark:hover:bg-green-700 transition-colors"
              >
                <td class="px-4 py-2">{{ appt.paymentId}}</td>
                <td class="px-4 py-2">{{ appt.transactionId}}</td>

                <td class="px-4 py-2">{{ appt.date | date: 'dd/MM/yyyy' }}</td>
                <td class="px-4 py-2">{{ appt.patientName }}</td>
                <td class="px-4 py-2 text-center align-middle">
                  <div
                    class="inline-flex items-center justify-center gap-1 bg-green-100/50 text-green-700 dark:bg-green-200/20 dark:text-green-300 font-semibold rounded-3xl px-2 py-1"
                  >
                    <svg
                      class="w-4 h-4 fill-green-600 dark:fill-green-300"
                      viewBox="0 0 20 20"
                    >
                      <path
                        d="M10 18a8 8 0 100-16 8 8 0 000 16zm-1-5l5-5-1.4-1.4L9 10.2 7.4 8.6 6 10l3 3z"
                      />
                    </svg>
                    <span>ناجحة</span>
                  </div>
                </td>
              </tr>
              <tr *ngIf="appointments.length === 0">
                <td colspan="5" class="py-4 text-zinc-500 dark:text-zinc-400">
                  لا توجد مدفوعات حالياً.
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="text-end">
          <a
            href="#"
            class="text-green-600 dark:text-green-400 text-sm hover:underline inline-flex items-center gap-1"
          >
            عرض كل المدفوعات
          </a>
        </div>
      </div>
      <!-- Patient Summary -->
      <!-- <div
        class="bg-white/80 dark:bg-zinc-900/50 backdrop-blur-md rounded-2xl p-6 shadow-lg mt-8"
      >
        <h2
          class="text-2xl font-bold text-green-600 dark:text-green-400 flex items-center gap-2 mb-4"
        >
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path
              d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
            />
          </svg>
          ملخص أكثر المرضى زيارة لك
        </h2>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
          <div
            class="border rounded-lg p-4 hover:bg-green-50 dark:hover:bg-green-700"
          >
            <p><strong>المريض:</strong> عبدالله مقرب</p>
            <p><strong>عدد الزيارات:</strong> 2</p>
            <p><strong>آخر زيارة:</strong> 22/07/2025</p>
          </div>
          <div
            class="border rounded-lg p-4 hover:bg-green-50 dark:hover:bg-green-700"
          >
            <p><strong>المريض:</strong> سيد علي</p>
            <p><strong>عدد الزيارات:</strong> 1</p>
            <p><strong>آخر زيارة:</strong> 20/07/2025</p>
          </div>
          <div
            class="border rounded-lg p-4 hover:bg-green-50 dark:hover:bg-green-700"
          >
            <p><strong>المريض:</strong> عبدالله حسن</p>
            <p><strong>عدد الزيارات:</strong> 1</p>
            <p><strong>آخر زيارة:</strong> 19/07/2025</p>
          </div>
        </div>
      </div> -->
    </div>
  </main>
</div>
